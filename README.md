# PenTest Plus - Final Assessment Review

- **Bluesnarfing** - **Ability to Read Data** -is an aggressive attack, as a malicious actor is able to read information from a victim's Bluetooth device. Bluesnarfing is ineffective against devices that set Bluetooth in non-discoverable mode.

- **Bluejacking** is a method used by attackers to send out unwanted text messages, images, or videos to a mobile phone, tablet, or laptop using a Bluetooth connection.

- **Postman** - is a tool that provides an interactive and automatic environment used to interact and test an API.

---

### Google Hacking
---
- **link:comptia.org about** - **Link Operator** - <ins>To find a link to a specified page</ins>, the link operator is used. Searching link:comptia.org about will search for pages that link to CompTIA's website and have the text "about" on the page.

- **inanchor:about employees** When searching for anchor text, the inanchor operator is used. Searching inanchor:about employees <ins>will search for pages with the anchor text "about" and with the text "employees" on the page.</ins>

- **inurl:about employees** A URL can be searched for text with the inurl operator. Searching inurl:about employees <ins>will search for pages whose URLs include the text "about" and have the text "employees" on the page.</ins>

- **site:comptia.org about** - To search a site for text, the site operator is used. Searching site:comptia.org would be used to search CompTIA's website for the text "about."

---
### Tools
---
- **Metasploit Framework** is a free open-source command-line version of a popular PenTest tool. By default, it is installed with a fresh install of the popular Kali Linux image.

- **Armitage** is an intuitive **third-party GUI for the Metasploit framework.** This add-on provides the ability to avoid using the utility with command-line commands.

- **Cobalt Strike is a third-party commercial version of Armitage.** Unlike Armitage, it includes many advanced features and detailed reporting is included.

- **Metasploit Pro** is a full-featured graphical version that includes Quick Start wizards, easy vulnerability scanning and validation, phishing campaigns, and reporting. **

- **Gobuster** can discover subdomains, directories, and files by brute-forcing from a list of common names. This can provide information that was otherwise not available.

- **Wapiti** is a web application vulnerability scanner that will automatically navigate a web app looking for areas where it can inject data.

- **TruffleHog** is a Git secrets search tool. It can automatically crawl through a repository looking for accidental commits of **secrets**.

- **BeEF (Browser Exploit Framework)** focuses on **web browser attacks** by assessing the actual security posture of a target by using client-side attack vectors.

- **Mimikatz** - can be used to gather credentials by extracting key elements from memory such as cleartext passwords, hashes, and PIN codes.

- **Medusa** - is a parallel brute-forcer for network logins. Its focus is to support numerous network services that allow remote authentication.

- **Brutespray** allows for the interpretation of results from an Nmap scan to automatically start medusa against the identified open ports. It can also use results from nmap with option "-sV" to identify and target services on non-standard ports.

- **Hydra** - tool is brute force tool similar to medusa, in that it supports parallel testing of several network authentications. It comes bundled with a tool called pw-inspect.


---

### NMAP Commands
---

- ```-sY``` An SCTP Initiation Ping uses the Stream Control Transmission Protocol (SCTP), an alternative to using either a TCP or UDP scan to see if a host is alive. This scan requires using the -sY option.

- ```nmap ipaddress``` By default, Nmap will perform a TCP scan. 

- ```TCP SYN (synchronize)``` Default action- packet starts a communication session with a host by using TCP to initiate a conversation. 

- ```-PU``` A UDP protocol scan can be initiated by using the -PU for port scanning.

- ```-sS``` Stealth Scan
    - A stealth scan uses techniques that try to exploit the expected behavior of TCP. When used alone, the scans may have limited effectiveness. Using other scans in conjunction can fill in the gaps of information.
    
    - A stealth scan in noncredentialed that uses fewer permissions, and many times can only find missing patches or updates.

#### Timing Commands

T4 is the recommended choice for a fast scan that is still relatively stable.

In some cases, network devices enforce rate limiting. Using the Nmap command with a time option of T0 and T1 are the best choices for IDS evasion but are extremely slow.

T5 is the fastest option but can be unstable and should only be used on a network that can handle the speed.

T1 would not be recommended |for increasing the scan timing from the default T3 setting because T1 is an extremely slow option.


---

### Engagement Related

---
- **Master Service Agreement** 
    - **Insurance** - Conducting a PenTest for an organization is a business arrangement, and all terms of the test should be clearly defined. Any general and liability insurance should be outlined if something goes wrong and damages occur.

    - **Safety guidelines and environmental concerns** - should be part of a master service agreement. Such guidelines should outline prohibited areas and the use of the facility.

    - **Project scope** - is defined within the master service agreement. The project scope is a definition of the specific work that is to be performed and completed.

- **Analysis** occurs after a team has completed an exercise. A collection of the results of all activities are analyzed, and a summary is derived of the risk ratings for each.

- **Reporting** will deliver the results and any remediation suggestions to the stakeholders, along with a realistic timeline of reducing risk and implementing corrective actions.

- **Scanning** is a critical phase as it provides more information about available network resources. Scanning identifies live hosts, listening ports, and more.

- **Reconnaissance** focuses on gathering as much information about the target as possible. This process includes searching information on the Internet, using Open-Source Information Gathering Tools (OSINT).

#### In Scope

- **Users** are an in-scope asset, as they are susceptible to social engineering, and are generally considered to be the easiest attack vector.

- **Domains and/or subdomains** within the organization are a prime target for malicious activity and are an in-scope asset. Domains and subdomains are examples such as example.com and ftp.example.com.

- **Service Set Identifiers (SSID)** can be targeted when an attacker is attempting to access a wireless network. As such, they are an in-scope asset.

#### Typically not in scope

- **Password** Passwords are dynamic in nature and can be reset at any time. The systems that provide and require the passwords would be an in-scope asset.

#### Engagement Scope/Risk

- **Risk appetite**- refers to the amount and type of potential vulnerabilities and threats the organization is willing to tolerate and endure.

- **Metrics** are quantifiable measurements of the status of results or processes. An example of a metric related to PenTesting is the criticality of vulnerability findings.

- **Measures** - are the specific data points that contribute to a metric. Values may be a percentage of systems that are susceptible to a particular vulnerability.

- **Risk rating** - is the process of assigning quantitative values to the identified risks. This is usually done by following a reference framework.

- In the United States, export controls regulate the transfer of certain services outside of the country. For example, Wireshark is a powerful open-source protocol analysis tool that falls under the U.S. encryption export regulations, and it may be illegal to use in certain countries.

### SQL Injection

---

- **SingleApostrophe** - ***```'```*** The most common method for identifying possible SQL injection vulnerabilities in a web app is to submit a single apostrophe and then look for errors. This is called the single quote method. If an error is returned, it may provide SQL syntax details.

- Certain web app APIs also allow the stacking of multiple queries within the same call. This can be useful for injecting new query types into a form's existing query type.

**Blind SQL injectio**n is injecting SQL when the web application's response does not contain the result of the query.

- Adding a time delay to a Blind SQL injection is known as time-based blind SQLi.

---

### PCI Compliance

---

**<ins>PCI DSS mandates a RoC</ins>**

- **Level 1** - merchants process over **6 million transactions annually**, which categorizes them as high-risk. The  for these merchants, requiring a formal assessment by a Qualified Security Assessor (QSA) due to the high volume of transactions.
 
- **Level 2** - merchants process 1 to 6 million transactions annually and typically complete a Self-Assessment Questionnaire (SAQ), but an acquiring bank may require an audit and ROC.
 
**<ins>No RoC Required</ins>**

- **Level 3** - merchants process 20,000 to 1 million transactions annually. They are not required to complete a RoC and typically do not choose this option.
 
- **Level 4** - merchants process fewer than 20,000 e-commerce transactions annually. They are low-risk and do not complete a RoC for PCI DSS compliance.

---

### Netcat Commands

---

#### Create Pessistent Listener

- ```-L``` option starts Netcat in the Windows-only "listen harder" mode. This mode creates a persistent listener that starts listening again when the client disconnects.

- ```-p``` option specifies the port that Netcat should start listening on in listening mode. When used in client mode, this value specifies the source port.

- ```-e``` option specifies the program to execute when a connection is made. This is useful for alerts and logging.

#### Non-persistent

- ```-l``` option starts Netcat in listen mode. This is a non-persistent mode. The default mode without this option is to act as a client.
---
### Steganography 
---
Used for files that contain a payload

- **Carrier** - must be able to pass as the original and appear harmless. A carrier might be music or an image file.

- **Payload** - can contain any number of things, such as trade secrets or command and control activity. Once the payload is hidden, no one outside of the sender and the receiver should suspect anything.

- There are hundreds of steganography tools available that can conceal the activity. Most are freely available and have similar functions in that they can conceal and encrypt data using a wide range of carriers.

---

### Scripts

---

- **Pseudocode** is a made-up language used to show flow and logic but is not based on any programming or scripting language. Pseudocode can be used to easily illustrate the logic of a script.

- **Operators** - are used in code to perform calculations such as mathematical calculations.

- **A tree**  has the root at the top, and the "branches" go down, with a "leaf" object at the end of a branch.

- **Flow Control** - Controlling the flow of instructions (flow control) enables programmers to write a script so that it can follow one or more paths based on certain circumstances.

### Scenarios

34 of 87 Assessment First try




 
